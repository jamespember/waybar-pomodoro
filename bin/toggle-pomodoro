#!/usr/bin/env bash
# Toggle pomodoro timer on/off

STATE_FILE="$HOME/.cache/pomodoro-state.txt"
SCRIPT_PATH="$HOME/.local/bin/waybar-pomodoro"

if [ -f "$STATE_FILE" ]; then
    # Timer running, stop it
    python3 -c "exec(open('$SCRIPT_PATH').read()); stop_timer()"
    notify-send "Pomodoro" "Timer stopped" -t 2000
else
    # Timer idle, start it
    python3 -c "exec(open('$SCRIPT_PATH').read()); start_timer()"
    notify-send "Pomodoro" "Timer started - 25 minutes" -t 2000
fi
